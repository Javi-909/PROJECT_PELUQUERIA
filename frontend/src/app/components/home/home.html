<!-- Navbar o Encabezado -->
<nav class="navbar navbar-light bg-white shadow-sm mb-4">
  <div class="container">
    <a class="navbar-brand fw-bold fs-3 text-dark" href="#">
      Peluquer칤a<span class="text-primary">Dev</span>
    </a>

    <!-- Boton de A침adir Peluqueria -->
     <div class="d-flex gap-2"> 
      
      @if (authService.isNegocio()) {
        <a routerLink="/nueva-peluqueria" class="btn btn-primary">
            + A침adir Peluqueria
        </a>
      }

      <!-- Boton de Contacto -->
      <a routerLink="/contacto" class="btn btn-outline-primary">Contacto</a>
    </div>
  </div>

  <!-- Boton de LogOut -->
  @if (authService.isLoggedIn()) {
    <button (click)="authService.logout()" class="btn btn-danger">
      LogOut
    </button>
  }
  
   <!-- Boton de MiPerfil -->  
  @if (authService.isCliente()) {
    <a routerLink="/mi-perfil" class="btn btn-outline-primary">
      游녻 Mi Perfil
    </a>
  }
</nav>

<!-- Contenido Principal -->
<div class="container">

  <!-- Secci칩n de B칰squeda (Centrada y bonita) -->
  <div class="row justify-content-center mb-5">
    <div class="col-md-8 col-lg-6">
      <div class="input-group input-group-lg shadow-sm">
        <span class="input-group-text bg-white border-end-0">
          游댌 
        </span>
        <input type="text" 
               class="form-control border-start-0" 
               placeholder="Buscar peluquer칤a por nombre o ubicaci칩n..." 
               [(ngModel)]="searchTerm"
               (ngModelChange)="filtrarResultados()">
      </div>
    </div>
  </div>

  <!-- T칤tulo de la Secci칩n -->
  <div class="text-center mb-4">
    <h2 class="fw-bold text-secondary">
      {{ searchTerm ? 'Resultados de b칰squeda' : 'Nuestras Peluquer칤as' }}
    </h2>
    
    @if (!searchTerm) {
      <p class="text-muted">Encuentra los mejores profesionales cerca de ti</p>
    }
  </div>

  <!-- REJILLA RESPONSIVE AUTOM츼TICA -->
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    
    <!-- NUEVO BUCLE @for -->
    <!-- 'track item.id' es obligatorio en la nueva sintaxis para que Angular sepa identificar cada tarjeta y sea m치s r치pido -->
    @for (item of peluqueriasFiltradas; track item.id) {
      <div class="col">
        <app-peluqueria-card [peluqueriaInfo]="item" class="h-100"></app-peluqueria-card>
      </div>
    }

  </div>

  <!-- Mensajes de Estado (Alertas Bootstrap) -->
  @if (peluqueriasFiltradas.length === 0 && peluquerias.length > 0) {
    <div class="alert alert-warning text-center mt-4" role="alert">
      No hemos encontrado ninguna peluquer칤a con ese nombre.
    </div>
  }

  @if (peluquerias.length === 0) {
    <div class="alert alert-info text-center mt-4" role="alert">
      Cargando peluquer칤as o no hay datos disponibles...
    </div>
  }

</div>