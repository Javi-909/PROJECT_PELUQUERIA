# 1. Usamos H2 en memoria (mem:testdb)
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL
#usamos MODE = PostgreSQL  que significa que le decimos a la base de datos falsa (H2) que emule el comportamiento de postgreSQL, por si en
#el c\u00F3digo usamos alguna funcion SQL, el test no falle

spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# 2. Dialecto para que Hibernate hable "idioma H2"
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# 3. CRUCIAL: Crear y Borrar (Create-Drop)
# Esto hace que al iniciar el test, cree las tablas vac\u00EDas.
# Al acabar el test, destruye all. Es necesario hacer esto.
spring.jpa.hibernate.ddl-auto=create-drop
#AUNQUE AQUI LO HACE SPRING GRACIAS A ESTE COMANDO, EN PROYECTOS REALES SE HACE A MANO


# 4. Logs (Opcional, para ver qu\u00E9 SQL hace el test)
spring.jpa.show-sql=true

# 5. Desactivar seguridad para tests r\u00E1pidos (Opcional, si quieres probar sin login)
# Ojo: Si quieres testear el login, esto no lo pongas.
# security.basic.enabled=false
